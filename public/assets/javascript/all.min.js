angular.module("horribleFilm",[]),angular.module("horribleFilm",["ngRoute"]).config(["$routeProvider","$locationProvider",function(e,r){e.when("/",{templateUrl:"app/components/page/home.html"}).when("/register",{templateUrl:"app/components/page/register.html",controller:"RegistrationCtrl",controllerAs:"register"}).when("/users",{templateUrl:"app/components/user/index.html",controller:"UserCtrl",controllerAs:"user"}).when("/users/:user_name",{templateUrl:"app/components/user/show.html",controller:"UserShowCtrl",controllerAs:"userShow"}).when("/users/:user_name/edit",{templateUrl:"app/components/user/edit.html",controller:"UserEditCtrl",controllerAs:"userEdit"}),r.html5Mode(!0)}]),angular.module("horribleFilm").controller("MainCtrl",function(){var e=this;e.loggedIn=!1}),angular.module("horribleFilm").controller("RegistrationCtrl",["User","$location","$http","$rootScope",function(e,r,t,o){var n=this;n.newUser={},n.submitRegistration=function(){e.create(n.newUser).then(function(e){e.data.success!==!1&&r.path("/users/"+n.newUser.userName)})}}]),angular.module("horribleFilm").controller("UserCtrl",["User","$scope",function(e,r){function t(){e.all().then(function(e){r.users=e.data})}t()}]),angular.module("horribleFilm").controller("UserEditCtrl",["$routeParams","User",function(e,r){var t=this;r.get(e.user_name).then(function(e){t.profile=e.data.Profile})}]),angular.module("horribleFilm").factory("User",["$http",function(e){var r={};return r.all=function(){return e.get("/api/users/")},r.get=function(r){return e.get("/api/users/"+r)},r.create=function(r){return e.post("/api/users/",r)},r}]),angular.module("horribleFilm").controller("UserShowCtrl",["$routeParams","User",function(e,r){var t=this;r.get(e.user_name).then(function(e){t.user=e.data})}]);